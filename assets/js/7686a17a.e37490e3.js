"use strict";(self.webpackChunksuperbench_website=self.webpackChunksuperbench_website||[]).push([[8212],{5680:(e,r,n)=>{n.d(r,{xA:()=>s,yg:()=>m});var t=n(6540);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){a(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function c(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=t.createContext({}),u=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):i(i({},r),e)),n},s=function(e){var r=u(e.components);return t.createElement(l.Provider,{value:r},e.children)},d={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},p=t.forwardRef((function(e,r){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=u(n),m=a,g=p["".concat(l,".").concat(m)]||p[m]||d[m]||o;return n?t.createElement(g,i(i({ref:r},s),{},{components:n})):t.createElement(g,i({ref:r},s))}));function m(e,r){var n=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=p;var c={};for(var l in r)hasOwnProperty.call(r,l)&&(c[l]=r[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var u=2;u<o;u++)i[u]=n[u];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},6982:(e,r,n)=>{n.d(r,{A:()=>a});var t=n(6540);const a=function(e){var r=e.children,n=e.hidden,a=e.className;return t.createElement("div",{role:"tabpanel",hidden:n,className:a},r)}},2689:(e,r,n)=>{n.d(r,{A:()=>s});var t=n(6540),a=n(4879),o=n(53);const i="tabItem_vU9c",c="tabItemActive_cw6a";var l=37,u=39;const s=function(e){var r=e.lazy,n=e.block,s=e.defaultValue,d=e.values,p=e.groupId,m=e.className,g=(0,a.A)(),f=g.tabGroupChoices,v=g.setTabGroupChoices,b=(0,t.useState)(s),y=b[0],h=b[1],k=t.Children.toArray(e.children),x=[];if(null!=p){var O=f[p];null!=O&&O!==y&&d.some((function(e){return e.value===O}))&&h(O)}var w=function(e){var r=e.currentTarget,n=x.indexOf(r),t=d[n].value;h(t),null!=p&&(v(p,t),setTimeout((function(){var e,n,t,a,o,i,l,u;(e=r.getBoundingClientRect(),n=e.top,t=e.left,a=e.bottom,o=e.right,i=window,l=i.innerHeight,u=i.innerWidth,n>=0&&o<=u&&a<=l&&t>=0)||(r.scrollIntoView({block:"center",behavior:"smooth"}),r.classList.add(c),setTimeout((function(){return r.classList.remove(c)}),2e3))}),150))},T=function(e){var r,n;switch(e.keyCode){case u:var t=x.indexOf(e.target)+1;n=x[t]||x[0];break;case l:var a=x.indexOf(e.target)-1;n=x[a]||x[x.length-1]}null==(r=n)||r.focus()};return t.createElement("div",{className:"tabs-container"},t.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},m)},d.map((function(e){var r=e.value,n=e.label;return t.createElement("li",{role:"tab",tabIndex:y===r?0:-1,"aria-selected":y===r,className:(0,o.A)("tabs__item",i,{"tabs__item--active":y===r}),key:r,ref:function(e){return x.push(e)},onKeyDown:T,onFocus:w,onClick:w},n)}))),r?(0,t.cloneElement)(k.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):t.createElement("div",{className:"margin-vert--md"},k.map((function(e,r){return(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==y})}))))}},8555:(e,r,n)=>{n.d(r,{A:()=>t});const t=(0,n(6540).createContext)(void 0)},4879:(e,r,n)=>{n.d(r,{A:()=>o});var t=n(6540),a=n(8555);const o=function(){var e=(0,t.useContext)(a.A);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e}},3541:(e,r,n)=>{n.r(r),n.d(r,{contentTitle:()=>s,default:()=>g,frontMatter:()=>u,metadata:()=>d,toc:()=>p});var t=n(8168),a=n(8587),o=(n(6540),n(5680)),i=n(2689),c=n(6982),l=["components"],u={id:"using-docker"},s="Using Docker",d={unversionedId:"developer-guides/using-docker",id:"developer-guides/using-docker",isDocsHomePage:!1,title:"Using Docker",description:"SuperBench runs benchmarks inside Docker container,",source:"@site/../docs/developer-guides/using-docker.mdx",sourceDirName:"developer-guides",slug:"/developer-guides/using-docker",permalink:"/superbenchmark/docs/developer-guides/using-docker",editUrl:"https://github.com/microsoft/superbenchmark/edit/main/website/../docs/developer-guides/using-docker.mdx",version:"current",frontMatter:{id:"using-docker"},sidebar:"docs",previous:{title:"Development",permalink:"/superbenchmark/docs/developer-guides/development"},next:{title:"Contributing",permalink:"/superbenchmark/docs/developer-guides/contributing"}},p=[{value:"Build image",id:"build-image",children:[]},{value:"Run container",id:"run-container",children:[]}],m={toc:p};function g(e){var r=e.components,n=(0,a.A)(e,l);return(0,o.yg)("wrapper",(0,t.A)({},m,n,{components:r,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"using-docker"},"Using Docker"),(0,o.yg)("p",null,"SuperBench runs benchmarks inside Docker container,\nhere are the guides on how to build images and start containers during development."),(0,o.yg)("h2",{id:"build-image"},"Build image"),(0,o.yg)("p",null,"You need to ",(0,o.yg)("a",{parentName:"p",href:"/superbenchmark/docs/developer-guides/development#set-up"},"clone the code")," first before building the image."),(0,o.yg)(i.A,{groupId:"gpu-platform",defaultValue:"cuda",values:[{label:"CUDA",value:"cuda"},{label:"ROCm",value:"rocm"}],mdxType:"Tabs"},(0,o.yg)(c.A,{value:"cuda",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"export DOCKER_BUILDKIT=1\ndocker buildx build \\\n  --platform linux/amd64 --cache-to type=inline,mode=max \\\n  --tag superbench-dev --file dockerfile/cuda12.2.dockerfile .\n"))),(0,o.yg)(c.A,{value:"rocm",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"export DOCKER_BUILDKIT=1\ndocker buildx build \\\n  --platform linux/amd64 --cache-to type=inline,mode=max \\\n  --tag superbench-dev --file dockerfile/rocm5.7.x.dockerfile .\n")))),(0,o.yg)("h2",{id:"run-container"},"Run container"),(0,o.yg)(i.A,{groupId:"gpu-platform",defaultValue:"cuda",values:[{label:"CUDA",value:"cuda"},{label:"ROCm",value:"rocm"}],mdxType:"Tabs"},(0,o.yg)(c.A,{value:"cuda",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker run \\\n  -itd --name=sb-dev \\\n  --privileged --net=host --ipc=host \\\n  --gpus=all \\\n  -w /root -v /mnt:/mnt \\\n  superbench-dev bash\n"))),(0,o.yg)(c.A,{value:"rocm",mdxType:"TabItem"},(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker run \\\n  -itd --name=sb-dev \\\n  --privileged --net=host --ipc=host \\\n  --security-opt seccomp=unconfined --group-add video \\\n  -w /root -v /mnt:/mnt \\\n  superbench-dev bash\n")))))}g.isMDXComponent=!0},53:(e,r,n)=>{function t(e){var r,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=t(e[r]))&&(a&&(a+=" "),a+=n);else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function a(){for(var e,r,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(r=t(e))&&(a&&(a+=" "),a+=r);return a}n.d(r,{A:()=>a})}}]);