<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.1">
<link rel="alternate" type="application/rss+xml" href="/superbenchmark/blog/rss.xml" title="SuperBench Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/superbenchmark/blog/atom.xml" title="SuperBench Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="SuperBench" href="/superbenchmark/opensearch.xml"><title data-react-helmet="true">Superbench Design | SuperBench</title><meta data-react-helmet="true" property="og:url" content="https://microsoft.github.io/superbenchmark/docs/design-docs/overview"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Superbench Design | SuperBench"><meta data-react-helmet="true" name="description" content="Goals"><meta data-react-helmet="true" property="og:description" content="Goals"><link data-react-helmet="true" rel="shortcut icon" href="/superbenchmark/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://microsoft.github.io/superbenchmark/docs/design-docs/overview"><link data-react-helmet="true" rel="alternate" href="https://microsoft.github.io/superbenchmark/docs/design-docs/overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://microsoft.github.io/superbenchmark/docs/design-docs/overview" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/superbenchmark/assets/css/styles.3d1af2f1.css">
<link rel="preload" href="/superbenchmark/assets/js/runtime~main.ec764ec0.js" as="script">
<link rel="preload" href="/superbenchmark/assets/js/main.2230eeac.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ shadow--md">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/superbenchmark/"><img src="/superbenchmark/img/logo.svg" alt="Docusaurus Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/superbenchmark/img/logo.svg" alt="Docusaurus Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">SuperBench</b></a><a class="navbar__item navbar__link navbar__link--active" href="/superbenchmark/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/superbenchmark/docs/cli">API</a><a class="navbar__item navbar__link" href="/superbenchmark/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/superbenchmark" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_Bc3W"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/superbenchmark/"><img src="/superbenchmark/img/logo.svg" alt="Docusaurus Logo" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/superbenchmark/img/logo.svg" alt="Docusaurus Logo" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">SuperBench</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/superbenchmark/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/superbenchmark/docs/cli">API</a></li><li class="menu__list-item"><a class="menu__link" href="/superbenchmark/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/microsoft/superbenchmark" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/superbenchmark/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/getting-started/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/getting-started/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/getting-started/run-superbench">Run SuperBench</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">User Tutorial</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Benchmarks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/benchmarks/micro-benchmarks">Micro Benchmarks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/benchmarks/model-benchmarks">Model Benchmarks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/benchmarks/docker-benchmarks">Docker Benchmarks</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/system-config">System Config Info</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/data-diagnosis">Data Diagnosis</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/result-summary">Result Summary</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/monitor">Monitor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/user-tutorial/container-images">Container Images</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/superbenchmark/docs/developer-guides/development">Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/superbenchmark/docs/developer-guides/using-docker">Using Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/superbenchmark/docs/developer-guides/contributing">Contributing</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Design Docs</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/superbenchmark/docs/design-docs/overview">Superbench Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/superbenchmark/docs/design-docs/benchmarks">Benchmarks Design</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="markdown"><header><h1 class="h1Heading_dC7a">Superbench Design</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="goals"></a>Goals<a class="hash-link" href="#goals" title="Direct link to heading">#</a></h2><p>SuperBench targets on providing a distribution test in cluster with 100 ~ 1000 nodes,
and making it modulable, easy to use and easy to scale up.
Therefore, SuperBench would like to provide a more simple and convenient way to:</p><ol><li>Install and deploy SuperBench in a raw cluster, including bare-metal, on-premises, and cloud environments.</li><li>Configure SuperBench configurations, by specifying config file or using command line arguments.</li><li>Execute the command locally to launch SuperBench on selected devices/nodes or on all nodes in the cluster. Use single device, selected devices, or all devices, including GPU and InfiniBand.</li><li>Support distributed benchmarks in SuperBench, including NCCL tests using MPI, model performance tests using torch distributed, etc.</li><li>Collect log during running, save results after running, and merge all nodes&#x27; results to one summary report.</li><li>Provide a unified interface for all benchmarks, including how to run on different device vendor (NVIDIA/AMD), how to run on different mode (local/mpi), how to pass configurations and save results.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="architecture"></a>Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">#</a></h2><p><img alt="SuperBench Workflow" src="/superbenchmark/assets/images/executor_workflow-3879e2df373302843fefb214fc0c8e06.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="pipeline"></a>Pipeline<a class="hash-link" href="#pipeline" title="Direct link to heading">#</a></h2><p><img alt="Pipeline" src="/superbenchmark/assets/images/executor-pipeline-07513bb43bae05c369d80eb52878bd6c.png"></p><ol><li>User prepares config file and host file. Both files can be omitted by using the default config or command line arguments to specify.</li><li>User runs SuperBench CLI on head node. Command line interface could accept a set of arguments and provide help information to user.</li><li>SuperBench CLI parses the input config file, host file, and arguments, loads into one config object, and calls SuperBench Runner to start the test.</li><li>SuperBench Runner parses the config and execute following steps on all nodes specified in config,<ol><li>Check the connection.</li><li>Check docker environment and SuperBench Docker image.</li><li>Start a SuperBench Docker container, and mount necessary paths.</li><li>Prepare running context, including local package code, config file, SSH key pairs, SSH config for passwordless use, and distribute to all nodes.</li><li>Prepare output path.</li><li>Start SSH service and check inter-connections.</li></ol></li><li>SuperBench Runner  loops all benchmarks and all modes in each benchmark. For each mode in each benchmark, SuperBench Runner calls SuperBench Executor inside Docker container on corresponding nodes to start an execution.</li><li>SuperBench Executor parses the config object, start benchmarks inside Docker container one by one.</li><li>SuperBench Executor gets return code and results of each benchmark once the benchmark finished.</li><li>SuperBench Executor sends the return code and results back to sb runner. SuperBench Runner Schecks return code and moves to the next execution.</li><li>Once all benchmarks finished, SuperBench Runner reduces results on all compute nodes, save log and results files, then summarize running results to SuperBench CLI.</li><li>SuperBench CLI returns the results to the user.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="components"></a>Components<a class="hash-link" href="#components" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="superbench-cli"></a>SuperBench CLI<a class="hash-link" href="#superbench-cli" title="Direct link to heading">#</a></h3><p>SuperBench CLI provides the command-line interface for users to use SuperBench and run related benchmarks.
The CLI provides a set of commands and corresponding help information to users.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="superbench-runner"></a>SuperBench Runner<a class="hash-link" href="#superbench-runner" title="Direct link to heading">#</a></h3><p>SuperBench Runner is the component to configure environments, prepare context, run benchmarks, collect log from nodes, and summarize results.
It controls the running logic, including when to start, which node or a set of nodes to run, whether a barrier is needed, etc.
SuperBench Runner either communicates with host through SSH to configure running environments and prepare context,
or talk with SuperBench Executor inside Docker container to execute benchmarks and collect log and results on each node.</p><p>Here&#x27;re the details about work directory structure for SuperBench Runner.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/path/to/working/directory</span></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ outputs/                                  </span><span class="token comment" style="color:#999988;font-style:italic"># output root directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ datetime                              </span><span class="token comment" style="color:#999988;font-style:italic"># output directory name in %Y-%m-%d_%H-%M-%S format</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ nodes                             </span><span class="token comment" style="color:#999988;font-style:italic"># nodes directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚   â””â”€â”€ node-0                        </span><span class="token comment" style="color:#999988;font-style:italic"># output collected from each node</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â”œâ”€â”€ benchmarks                </span><span class="token comment" style="color:#999988;font-style:italic"># benchmarks directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â”‚   â””â”€â”€ benchmark-0           </span><span class="token comment" style="color:#999988;font-style:italic"># output for each benchmark</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â”‚       â””â”€â”€ rank-0            </span><span class="token comment" style="color:#999988;font-style:italic"># output for each rank in each benchmark</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â”‚           â”œâ”€â”€ results.json  </span><span class="token comment" style="color:#999988;font-style:italic"># raw results</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           â””â”€â”€ monitor.jsonl </span><span class="token comment" style="color:#999988;font-style:italic"># monitor results (optional)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       â”œâ”€â”€ sb-bench.log              </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench benchmarks&#x27; runtime log for debugging</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â””â”€â”€ sb-exec.log               </span><span class="token comment" style="color:#999988;font-style:italic"># collected SuperBench Executor log</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ sb-run.log                        </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench Runner log</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ sb.config.yaml                    </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench configuration snapshot</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ ssh_config                        </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH config file</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ id_ed25519                        </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH private key for each run</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ id_ed25519.pub                    </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH public key for each run</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="superbench-executor"></a>SuperBench Executor<a class="hash-link" href="#superbench-executor" title="Direct link to heading">#</a></h3><p>SuperBench Executor is the component to run benchmarks inside Docker container.
It will start the monitor (optional), execute each benchmark and handle all pre- and post-processing, including health check, result validation, result processing, etc.</p><p>Here&#x27;re the SuperBench Executor&#x27;s work directory structure inside Docker container.
The <code>/root</code> directory is mounted from <code>$HOME/sb-workspace</code> on the host path.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/root</span></span><span class="token-line" style="color:#393A34"><span class="token plain">â”œâ”€â”€ .ssh                              </span><span class="token comment" style="color:#999988;font-style:italic"># SSH directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ config                        </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH config file</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â”œâ”€â”€ id_ed25519                    </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH private key from Runner</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">â”‚   â””â”€â”€ id_ed25519.pub                </span><span class="token comment" style="color:#999988;font-style:italic"># generated SSH public key from Runner</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">â””â”€â”€ outputs/                          </span><span class="token comment" style="color:#999988;font-style:italic"># output root directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    â””â”€â”€ datetime                      </span><span class="token comment" style="color:#999988;font-style:italic"># output directory name in %Y-%m-%d_%H-%M-%S format</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ benchmarks                </span><span class="token comment" style="color:#999988;font-style:italic"># benchmarks directory</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚   â””â”€â”€ benchmark-0           </span><span class="token comment" style="color:#999988;font-style:italic"># output for each benchmark</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚       â””â”€â”€ rank-0            </span><span class="token comment" style="color:#999988;font-style:italic"># output for each rank in each benchmark</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚           â”œâ”€â”€ results.json  </span><span class="token comment" style="color:#999988;font-style:italic"># raw results</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”‚           â””â”€â”€ monitor.jsonl </span><span class="token comment" style="color:#999988;font-style:italic"># monitor results (optional)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ sb.config.yaml            </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench configuration snapshot</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â”œâ”€â”€ sb-bench.log              </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench benchmarks&#x27; runtime log for debugging</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        â””â”€â”€ sb.env                    </span><span class="token comment" style="color:#999988;font-style:italic"># SuperBench runtime environment variables</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="benchmarks"></a><a href="/superbenchmark/docs/design-docs/benchmarks">Benchmarks</a><a class="hash-link" href="#benchmarks" title="Direct link to heading">#</a></h3><p>Benchmarks are a set of tests that actually run on node to measure the hardware performance.
Here&#x27;re the related concepts, nccl benchmark is used as an example.</p><ol><li><p>Module</p><p>One benchmark is one module, it has a set of abstract methods that should be implemented, e.g., pre check, measure, post check, save result, etc. The whole nccl benchmark is one module.</p></li><li><p>Mode</p><p>One module may have several modes when running, each mode has corresponding method to run, e.g., local mode is running inside one node, mpi mode is running on all nodes but the command is only executed on one node, pair mode is running between two nodes for every combination, etc. The nccl module may have local mode and mpi mode.</p></li><li><p>Task Group</p><p>One mode may have several task groups to run, each task group has a barrier when running. So only until the task group has finished on all nodes will the next task group start. The mpi mode of nccl module will run all reduce, all gather, etc., each should be treated as one task group.</p></li><li><p>Task</p><p>One task group may contain several tasks to run, there&#x27;s no barrier needed among these tasks inside one task group.</p></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/microsoft/superbenchmark/edit/main/website/../docs/design-docs/overview.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/superbenchmark/docs/developer-guides/contributing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Contributing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/superbenchmark/docs/design-docs/benchmarks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Benchmarks Design Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#goals" class="table-of-contents__link">Goals</a></li><li><a href="#architecture" class="table-of-contents__link">Architecture</a></li><li><a href="#pipeline" class="table-of-contents__link">Pipeline</a></li><li><a href="#components" class="table-of-contents__link">Components</a><ul><li><a href="#superbench-cli" class="table-of-contents__link">SuperBench CLI</a></li><li><a href="#superbench-runner" class="table-of-contents__link">SuperBench Runner</a></li><li><a href="#superbench-executor" class="table-of-contents__link">SuperBench Executor</a></li><li><a href="#benchmarks" class="table-of-contents__link">Benchmarks</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/superbenchmark/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/superbenchmark/docs/getting-started/installation">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/superbenchmark/docs/cli">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/microsoft/superbenchmark/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues</a></li><li class="footer__item"><a href="https://github.com/microsoft/superbenchmark/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussion</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/superbenchmark/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/microsoft/superbenchmark" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 SuperBench. <br> Built with Docusaurus and hosted by GitHub.</div></div></div></footer></div>
<script src="/superbenchmark/assets/js/runtime~main.ec764ec0.js"></script>
<script src="/superbenchmark/assets/js/main.2230eeac.js"></script>
</body>
</html>